(function(t){function e(e){for(var n,o,i=e[0],l=e[1],u=e[2],f=0,h=[];f<i.length;f++)o=i[f],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&h.push(r[o][0]),r[o]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);c&&c(e);while(h.length)h.shift()();return s.push.apply(s,u||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],n=!0,i=1;i<a.length;i++){var l=a[i];0!==r[l]&&(n=!1)}n&&(s.splice(e--,1),t=o(o.s=a[0]))}return t}var n={},r={app:0},s=[];function o(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=n,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(a,n,function(e){return t[e]}.bind(null,n));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/vocabulation/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=e,i=i.slice();for(var u=0;u<i.length;u++)e(i[u]);var c=l;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-app-bar",{attrs:{app:"",color:"#4DBA87",dark:""}},[a("h1",[t._v("Vocabulation")]),a("v-spacer"),a("h3",[t._v("Score: "+t._s(t.score.current)+" | Max : "+t._s(t.score.max))])],1),a("v-main",[a("v-container",[a("v-alert",{attrs:{dense:"",type:"warning",transition:"scale-transition",value:t.fail}},[t._v("ไม่ถูกต้อง")]),a("v-card",{staticClass:"pa-10 mt-10",attrs:{elevation:"2"}},[a("v-row",{attrs:{justify:"center"}},[t.question.thai?a("h1",[t._v(t._s(t.question.thai))]):t._e()])],1),a("v-form",{ref:"form",staticClass:"mt-5",on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[a("v-text-field",{ref:"answer",attrs:{label:"Answer",required:"",autocomplete:"off"},model:{value:t.answer,callback:function(e){t.answer=e},expression:"answer"}}),a("v-btn",{attrs:{block:"",color:"#4DBA87",dark:"",elevation:"2",large:"",type:"submit"}},[t._v("OK")])],1),a("v-row",{staticClass:"mt-5"},[a("v-col",[a("v-btn",{attrs:{elevation:"2",large:""},on:{click:t.random}},[t._v("Re-random")])],1),a("v-col",[a("v-text-field",{attrs:{type:"number",min:t.maxNotRepeat,required:"",label:"จำนวนคำที่จะนำมาสุ่มต่อ 1 หน้า"},model:{value:t.maxWordOfPage,callback:function(e){t.maxWordOfPage=e},expression:"maxWordOfPage"}})],1),a("v-spacer")],1),a("h1",{staticClass:"mt-10"},[t._v("คำที่ถูกก่อนหน้า")]),t.oldCorrect.thai?a("h3",{staticClass:"success--text"},[t._v(" "+t._s(t.oldCorrect.thai)+" : "+t._s(t.oldCorrect.english)+" ")]):t._e(),a("v-pagination",{staticClass:"mt-10",attrs:{length:Math.ceil(t.vocabulations.length/(t.maxWordOfPage||1)),"total-visible":7,color:"#4DBA87"},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}}),a("router-view")],1)],1),a("v-footer",{attrs:{app:""}})],1)},s=[],o=a("1da1"),i=(a("96cf"),a("498a"),a("ac1f"),a("1276"),a("a15b"),a("7db0"),a("2591")),l=i["a"].initializeApp({apiKey:"AIzaSyA1dfFZfziaqIbLpTdHSWw3-tUwBsnlSiw",authDomain:"vocab-e1163.firebaseapp.com",databaseURL:"https://vocab-e1163-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"vocab-e1163",storageBucket:"vocab-e1163.appspot.com",messagingSenderId:"452569342327",appId:"1:452569342327:web:2442781fa4d9f16e938172",measurementId:"G-X1K9J05NBX"}),u=l.database(),c=u.ref("vocab"),f={name:"App",data:function(){return{fail:!1,page:1,maxWordOfPage:10,maxNotRepeat:3,question:{},lastQuestion:[],answer:"",oldCorrect:{},vocabulations:[],score:{current:0,max:0}}},methods:{clearAnswer:function(){this.answer=""},cleanWord:function(t){return t=t.trim(),t=t.replaceAll("-",""),t=t.toLowerCase(),t=t.split(" "),t=t.join(""),t},onSubmit:function(){this.cleanWord(this.answer)===this.cleanWord(this.question.english)?(this.oldCorrect=this.question,this.random(),this.fail=!1,this.score.current++,this.score.current>this.score.max&&(this.score.max=this.score.current)):(this.fail=!0,this.score.current=0),this.clearAnswer()},addLastQuestion:function(t){this.lastQuestion.push(t.english),this.lastQuestion.length>this.maxNotRepeat&&this.lastQuestion.shift()},hasLastQuestion:function(t){var e=this.lastQuestion.find((function(e){return e===t.english}));return!!e},random:function(){var t=this.maxWordOfPage,e=(this.page-1)*t,a=parseInt(e)+parseInt(t),n=Math.floor(Math.random()*(a-e+1))+e;console.log(t,e,a,n),this.question=this.vocabulations[n],this.hasLastQuestion(this.question)?this.random():this.addLastQuestion(this.question)},focusAnswer:function(){this.$refs.answer.focus()}},mounted:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.focusAnswer(),e.next=3,c.get();case 3:for(n in a=e.sent.val(),a)t.vocabulations.push(a[n]);t.random();case 6:case"end":return e.stop()}}),e)})))()},watch:{page:function(){this.random()},maxWordOfPage:function(){this.maxWordOfPage<this.maxNotRepeat&&(this.maxWordOfPage=this.maxNotRepeat)}}},h=f,p=a("2877"),d=a("6544"),v=a.n(d),m=a("0798"),b=a("7496"),g=a("40dc"),w=a("8336"),x=a("b0af"),_=a("62ad"),y=a("a523"),O=a("553a"),V=a("4bd4"),P=a("f6c4"),A=a("891e"),C=a("0fd9"),j=a("2fa4"),k=a("8654"),q=Object(p["a"])(h,r,s,!1,null,null,null),S=q.exports;v()(q,{VAlert:m["a"],VApp:b["a"],VAppBar:g["a"],VBtn:w["a"],VCard:x["a"],VCol:_["a"],VContainer:y["a"],VFooter:O["a"],VForm:V["a"],VMain:P["a"],VPagination:A["a"],VRow:C["a"],VSpacer:j["a"],VTextField:k["a"]});var W=a("f309");n["a"].use(W["a"]);var R=new W["a"]({}),B=a("8c4f"),M=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-form",{ref:"form",on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[a("v-text-field",{ref:"english",attrs:{label:"English",required:""},model:{value:t.english,callback:function(e){t.english=e},expression:"english"}}),a("v-text-field",{attrs:{label:"Thai",required:""},model:{value:t.thai,callback:function(e){t.thai=e},expression:"thai"}}),a("v-btn",{staticClass:"mr-4",attrs:{type:"submit"}},[t._v(" submit ")])],1)},Q=[],I={data:function(){return{english:"",thai:""}},methods:{submit:function(){c.push({english:this.english,thai:this.thai}),this.english="",this.thai="",this.$refs.english.focus()}}},L=I,T=Object(p["a"])(L,M,Q,!1,null,null,null),D=T.exports;v()(T,{VBtn:w["a"],VForm:V["a"],VTextField:k["a"]}),n["a"].use(B["a"]),n["a"].config.productionTip=!1;var F=[{path:"/new",component:D}],N=new B["a"]({routes:F});new n["a"]({vuetify:R,router:N,render:function(t){return t(S)}}).$mount("#app")}});
//# sourceMappingURL=app.5304d65f.js.map